source shell/start_common.sh &

echo "
# _____________________________________________________________ #
# ___ Démarrer l'acquisition de données des entrepots fixes ___ #
# _____________________________________________________________ #
"

sleep 5
cd ~/Dev/Package_Traceability/arduino-nano/nodejs_connect_amqp
npm start &



# Wait for all process are running before displaying final message

while ! nc -z localhost 3000; do
  sleep 0.1
done

while ! nc -z localhost 4200; do
  sleep 0.1
done

while ! nc -z localhost 8080; do
  sleep 0.1
done



echo "                                                                                                                                                      



                                                                                                                                                                     
██████╗  █████╗  ██████╗██╗  ██╗ █████╗  ██████╗ ███████╗
██╔══██╗██╔══██╗██╔════╝██║ ██╔╝██╔══██╗██╔════╝ ██╔════╝
██████╔╝███████║██║     █████╔╝ ███████║██║  ███╗█████╗  
██╔═══╝ ██╔══██║██║     ██╔═██╗ ██╔══██║██║   ██║██╔══╝  
██║     ██║  ██║╚██████╗██║  ██╗██║  ██║╚██████╔╝███████╗
╚═╝     ╚═╝  ╚═╝ ╚═════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝

████████╗██████╗  █████╗  ██████╗███████╗ █████╗ ██████╗ ██╗██╗     ██╗████████╗██╗   ██╗
╚══██╔══╝██╔══██╗██╔══██╗██╔════╝██╔════╝██╔══██╗██╔══██╗██║██║     ██║╚══██╔══╝╚██╗ ██╔╝
   ██║   ██████╔╝███████║██║     █████╗  ███████║██████╔╝██║██║     ██║   ██║    ╚████╔╝ 
   ██║   ██╔══██╗██╔══██║██║     ██╔══╝  ██╔══██║██╔══██╗██║██║     ██║   ██║     ╚██╔╝  
   ██║   ██║  ██║██║  ██║╚██████╗███████╗██║  ██║██████╔╝██║███████╗██║   ██║      ██║   
   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝╚══════╝╚═╝  ╚═╝╚═════╝ ╚═╝╚══════╝╚═╝   ╚═╝      ╚═╝   

                                                                                         
                                                                                                                                                      
# ----------------------------------------------------- #
# -         PACKAGE TRACEABILITY IS STARTED           - #
# ----------------------------------------------------- #
# - Composer Playground is listening on localhost:8080  #
# - Serveur REST is listening on localhost:4200         #
# - Application is listening on localhost:3000          #
# ----------------------------------------------------- #

"

